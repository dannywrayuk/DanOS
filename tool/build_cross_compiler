export TARGET=x86_64-elf
export PREFIX="$(pwd)/../cc/opt/cross"

sudo apt-get install build-essential bison flex libgmp3-dev libmpfr-dev libmpc-dev texinfo subversion nasm grub-common grub-pc-bin xorriso libexpat-dev -y 
cd ..
mkdir cc
cd cc
mkdir src
cd src
git clone git://sourceware.org/git/binutils-gdb.git
git clone git://gcc.gnu.org/git/gcc.git
export PATH="$PREFIX/bin:$PATH" 
mkdir build-binutils
cd build-binutils
../binutils-gdb/configure --target=$TARGET --prefix="$PREFIX" --with-sysroot --disable-nls --disable-werror --with-expat
make
make install
cd ..
which -- $TARGET-as || echo $TARGET-as is not in the PATH

mkdir build-gcc
cd build-gcc
../gcc/configure --target=$TARGET --prefix="$PREFIX" --disable-nls --enable-languages=c,c++ --without-headers --with-expat
make all-gcc -j 20
make all-target-libgcc -j 20
make install-gcc -j 20
make install-target-libgcc -j 20